# `/prompt` 命令

AI 提示词库管理系统，提供提示词模板的创建、管理和使用功能。

## 功能概述

提示词库系统帮助用户管理AI提示词模板，支持分类管理、智能生成和社区分享功能。

## 使用方式

```bash
/prompt
```

## 交互流程

### 主菜单

```
🤖 AI 提示词库管理

当前统计：
- 总提示词: 25 个
- 系统模板: 15 个
- 用户创建: 10 个
- 分类数: 6 个

请选择操作：
1. 浏览提示词库
2. 创建新提示词
3. 编辑提示词
4. 智能生成
5. 导入/导出
6. 设置管理
7. 返回上一级

请输入选项 (1-7):
```

### 1. 浏览提示词库

按分类展示所有提示词模板：

```
📚 提示词库

🎮 游戏自动化 (8)
   游戏脚本相关的提示词模板
   🔧 1. 任务规划提示词 (v1.2)
      帮助规划游戏任务执行顺序和策略
      标签: [规划, 策略, 任务] | 更新: 2024-01-15

   👤 2. 战斗策略生成 (v2.0)
      根据角色配置生成最佳战斗策略
      标签: [战斗, 策略, 角色] | 更新: 2024-01-14

🔍 问题诊断 (6)
   用于问题分析和解决的提示词
   🔧 3. 错误分析助手 (v1.0)
      分析脚本执行错误并提供解决方案
      标签: [诊断, 错误, 解决] | 更新: 2024-01-13

📊 数据分析 (4)
   数据处理和分析相关提示词

操作选项：
v) 查看详情  u) 使用提示词  e) 编辑  d) 删除
f) 筛选  s) 搜索  c) 按分类查看
q) 返回菜单

请输入操作:
```

### 2. 创建新提示词

创建自定义提示词模板：

```
📝 创建新提示词

基本信息：
- 提示词名称:
- 描述:
- 分类: [选择现有分类或创建新分类]
- 标签: [用逗号分隔，如: 自动化,策略,优化]

提示词内容：
╭─────────────────────────────────────╮
│ 请在此输入提示词模板内容              │
│                                   │
│ 支持变量占位符:                     │
│ ${variable_name} - 运行时替换       │
│ ${?optional_var} - 可选变量         │
│                                   │
│ 示例:                             │
│ 请为${game_name}游戏创建一个        │
│ ${task_type}任务的执行策略...       │
╰─────────────────────────────────────╯

请输入提示词内容 (输入'END'结束):
```

### 3. 编辑提示词

修改现有的提示词模板：

```
📝 编辑提示词

选择要编辑的提示词：
1. 我的战斗策略 (v1.0) - 用户创建
2. 资源优化建议 (v2.1) - 用户创建
3. 自定义任务流程 (v1.5) - 用户创建

请选择提示词 (1-3): 1

当前编辑: 我的战斗策略 (v1.0)

编辑选项：
1. 修改基本信息
2. 编辑内容
3. 添加变量
4. 测试提示词
5. 版本管理
6. 保存更改
7. 取消编辑

请选择操作 (1-7):
```

### 4. 智能生成

使用AI生成定制化提示词：

```
🤖 智能提示词生成

生成向导：

步骤 1/4: 应用场景
请选择提示词的主要用途：
1. 游戏任务自动化
2. 数据分析处理
3. 问题诊断解决
4. 策略规划制定
5. 其他自定义

请选择场景 (1-5): 1

步骤 2/4: 具体需求
您希望提示词解决什么问题：
- 问题描述: 为原神游戏创建每日任务优化策略
- 目标效果: 最大化效率，最小化时间消耗
- 特殊要求: 考虑不同角色配置

步骤 3/4: 参数配置
需要哪些可变参数：
□ 游戏角色信息
□ 任务类型选择
□ 时间限制条件
□ 资源优先级

步骤 4/4: 生成预览
正在生成提示词... ⏳

✨ 生成完成！

预览:
「请为原神游戏制定一个高效的每日任务执行策略...」

操作:
1. 保存为新模板
2. 继续优化
3. 重新生成
4. 取消

请选择 (1-4):
```

### 5. 导入/导出

管理提示词模板的备份和分享：

```
📦 导入/导出管理

当前操作：
1. 导出提示词
2. 导入提示词
3. 批量管理
4. 社区分享 (规划中)

请选择操作 (1-4): 1

导出设置：
- 导出范围:
  □ 全部提示词 (25个)
  ☑ 仅用户创建 (10个)
  □ 指定分类
  □ 自定义选择

- 导出格式:
  ☑ JSON格式 (.json)
  □ Markdown格式 (.md)
  □ CSV格式 (.csv)

- 导出位置: ./exports/prompts_backup_20240115.json

确认导出？ (y/N):
```

### 6. 设置管理

配置提示词库系统：

```
⚙️  提示词库设置

界面设置：
- 默认排序方式: 按更新时间
- 每页显示数量: 10
- 显示系统模板: 是
- 自动展开分类: 否

编辑设置：
- 自动保存间隔: 30秒
- 启用语法高亮: 是
- 变量提示: 是
- 内容备份: 是

AI设置:
- 启用智能生成: 是
- 生成模型: GPT-4
- 生成长度限制: 1000字符
- 创意程度: 中等

同步设置:
- 自动备份: 每日
- 云端同步: 关闭
- 版本控制: 本地

修改设置请输入对应编号，保存请输入 's':
```

## 提示词变量系统

支持的变量类型：
- `${variable}` - 必需变量，运行时必须提供
- `${?optional}` - 可选变量，运行时可以为空
- `${variable:default}` - 带默认值的变量

变量示例：
```
请为${game_name}游戏的${character_name:默认角色}
创建一个${task_type}策略，
${?time_limit}时间限制为${time_limit}分钟。
```

## 分类管理

内置分类：
- 🎮 **游戏自动化** - 游戏相关的提示词
- 🔍 **问题诊断** - 问题分析解决
- 📊 **数据分析** - 数据处理分析
- 🎯 **策略规划** - 策略制定规划
- 🛠️ **脚本优化** - 脚本改进优化
- 📝 **文档生成** - 文档和报告生成

## 高级功能

### 版本控制
- 自动版本记录
- 变更历史追踪
- 版本对比和回滚

### 智能推荐
- 基于使用历史的推荐
- 相关提示词建议
- 智能分类归档

### 团队协作
- 提示词分享
- 协作编辑（规划中）
- 团队模板库（规划中）

## 相关命令

- [`/script`](../script/README.md) - 脚本模板管理
- [`/task`](../task/README.md) - 任务队列管理

## 注意事项

1. **内容安全**: 提示词内容会进行安全检查
2. **版权保护**: 请勿使用受版权保护的内容
3. **变量验证**: 使用前请确保变量定义正确
4. **性能影响**: 复杂提示词可能影响AI生成速度
5. **数据备份**: 建议定期导出重要提示词作备份
